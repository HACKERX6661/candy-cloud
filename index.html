<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candy Cloud Shop</title>
    <style>
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            text-align: center; padding: 20px; margin: 0; min-height: 100vh;
        }
        @keyframes gradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .shop-container { 
            background: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 20px; 
            display: inline-block; max-width: 450px; width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
            backdrop-filter: blur(5px); margin-top: 50px;
        }
        .product-card { 
            border: 1px solid #ddd; border-radius: 12px; margin-bottom: 12px; padding: 15px; 
            display: flex; align-items: center; text-align: left; background: #fff; 
        }
        .product-card img { width: 60px; height: 60px; border-radius: 8px; margin-right: 15px; object-fit: contain; }
        .price { color: #2e7d32; font-weight: bold; }
        input[type="text"], input[type="email"] { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        .buy-button { 
            background: #e73c7e; color: white; padding: 15px 30px; border: none; 
            border-radius: 10px; font-size: 18px; cursor: pointer; width: 100%; font-weight: bold; margin-top: 15px;
        }
    </style>
</head>
<body>

    <div id="auth-gate" class="shop-container">
        <h2>üîê Candy Cloud Login</h2>
        <input type="email" id="userEmail" placeholder="Deine E-Mail Adresse">
        <button onclick="sendCode()" class="buy-button">Code anfordern</button>
        <div id="code-section" style="display: none; margin-top: 20px;">
            <input type="text" id="inputCode" placeholder="6-stelliger Code">
            <button onclick="verifyCode()" class="buy-button" style="background: #23d5ab;">Shop √∂ffnen</button>
        </div>
    </div>

    <div id="main-shop" class="shop-container" style="display: none;">
        <h1>‚òÅÔ∏è Candy Cloud ‚òÅÔ∏è</h1>
        <p style="background: #e8f5e9; padding: 10px; border-radius: 8px; color: #2e7d32; font-weight: bold;">üöö Versand: NUR 2,50 ‚Ç¨</p>

        <form id="orderForm" action="https://formspree.io/f/DEINE_ID" method="POST">
            <div class="product-card">
                <img src="saure_strips.jpg" alt="Saure Strips">
                <div style="flex-grow:1;"><strong>Saure Strips</strong><br><span class="price">2,00 ‚Ç¨</span></div>
                <input type="checkbox" name="Bestellung_Strips" value="2.00 ‚Ç¨" class="item-check" data-price="2.00" style="width:20px;">
            </div>

            <div class="product-card">
                <img src="prime.jpg" alt="Prime">
                <div style="flex-grow:1;"><strong>Prime Hydration</strong><br><span class="price">3,50 ‚Ç¨</span></div>
                <input type="checkbox" name="Bestellung_Prime" value="3.50 ‚Ç¨" class="item-check" data-price="3.50" style="width:20px;">
            </div>

            <div class="product-card">
                <img src="takis.jpg" alt="Takis">
                <div style="flex-grow:1;"><strong>Takis Fuego</strong><br><span class="price">4,50 ‚Ç¨</span></div>
                <input type="checkbox" name="Bestellung_Takis" value="4.50 ‚Ç¨" class="item-check" data-price="4.50" style="width:20px;">
            </div>

            <input type="text" name="Kunden_Name" placeholder="Dein Name" required>
            <input type="text" name="Adresse" placeholder="Stra√üe, Hausnr, PLZ, Ort" required>
            
            <input type="hidden" name="Versandkosten" value="2.50 ‚Ç¨">
            <input type="hidden" id="totalAmount" name="GESAMTSUMME">

            <button type="button" onclick="calculateAndSend()" class="buy-button">Rechnung pr√ºfen & Kaufen</button>
        </form>
    </div>

    <script>
        let generatedCode;
        function sendCode() {
            generatedCode = Math.floor(100000 + Math.random() * 900000);
            alert("BOT: Dein Login-Code ist: " + generatedCode);
            document.getElementById('code-section').style.display = 'block';
        }
        function verifyCode() {
            if(document.getElementById('inputCode').value == generatedCode) {
                document.getElementById('auth-gate').style.display = 'none';
                document.getElementById('main-shop').style.display = 'block';
            } else { alert("Falscher Code!"); }
        }
        function calculateAndSend() {
            let summe = 2.50; 
            let selected = false;
            document.querySelectorAll('.item-check:checked').forEach(item => {
                summe += parseFloat(item.getAttribute('data-price'));
                selected = true;
            });
            if(!selected) return alert("W√§hle bitte erst ein Produkt aus!");
            document.getElementById('totalAmount').value = summe.toFixed(2) + " ‚Ç¨";
            if(confirm("DEINE RECHNUNG:\n------------------\nVersand: 2,50 ‚Ç¨\nGESAMT: " + summe.toFixed(2) + " ‚Ç¨\n\nJetzt bestellen?")) {
                document.getElementById('orderForm').submit();
            }
        }
    </script>
</body>
</html>
